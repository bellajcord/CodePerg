{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    actions: {\n      flexShrink: 0,\n      color: theme.palette.text.secondary,\n      marginLeft: 20\n    },\n    hellip: {\n      padding: '1.2em'\n    }\n  };\n}, {\n  name: 'RaPaginationActions'\n});\n\nfunction PaginationActions(props) {\n  var page = props.page,\n      rowsPerPage = props.rowsPerPage,\n      count = props.count,\n      onChangePage = props.onChangePage,\n      color = props.color,\n      size = props.size;\n  var classes = useStyles(props);\n  var translate = useTranslate();\n  var theme = useTheme();\n  /**\n   * Warning: material-ui's page is 0-based\n   */\n\n  var range = function () {\n    var nbPages = Math.ceil(count / rowsPerPage) || 1;\n\n    if (isNaN(page) || nbPages === 1) {\n      return [];\n    }\n\n    var input = []; // display page links around the current page\n\n    if (page > 1) {\n      input.push(1);\n    }\n\n    if (page === 3) {\n      input.push(2);\n    }\n\n    if (page > 3) {\n      input.push('.');\n    }\n\n    if (page > 0) {\n      input.push(page);\n    }\n\n    input.push(page + 1);\n\n    if (page < nbPages - 1) {\n      input.push(page + 2);\n    }\n\n    if (page === nbPages - 4) {\n      input.push(nbPages - 1);\n    }\n\n    if (page < nbPages - 4) {\n      input.push('.');\n    }\n\n    if (page < nbPages - 2) {\n      input.push(nbPages);\n    }\n\n    return input;\n  };\n\n  var getNbPages = function () {\n    return Math.ceil(count / rowsPerPage) || 1;\n  };\n\n  var prevPage = function (event) {\n    if (page === 0) {\n      throw new Error(translate('ra.navigation.page_out_from_begin'));\n    }\n\n    onChangePage(event, page - 1);\n  };\n\n  var nextPage = function (event) {\n    if (page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_from_end'));\n    }\n\n    onChangePage(event, page + 1);\n  };\n\n  var gotoPage = function (event) {\n    var page = parseInt(event.currentTarget.dataset.page, 10);\n\n    if (page < 0 || page > getNbPages() - 1) {\n      throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n        page: page + 1\n      }));\n    }\n\n    onChangePage(event, page);\n  };\n\n  var renderPageNums = function () {\n    return range().map(function (pageNum, index) {\n      return pageNum === '.' ? React.createElement(\"span\", {\n        key: \"hyphen_\" + index,\n        className: classes.hellip\n      }, \"\\u2026\") : React.createElement(Button, {\n        size: size,\n        className: \"page-number\",\n        color: pageNum === page + 1 ? 'default' : color,\n        key: pageNum,\n        \"data-page\": pageNum - 1,\n        onClick: gotoPage\n      }, pageNum);\n    });\n  };\n\n  var nbPages = getNbPages();\n\n  if (nbPages === 1) {\n    return React.createElement(\"div\", {\n      className: classes.actions\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.actions\n  }, page > 0 && React.createElement(Button, {\n    color: color,\n    size: size,\n    key: \"prev\",\n    onClick: prevPage,\n    className: \"previous-page\"\n  }, theme.direction === 'rtl' ? React.createElement(ChevronRight, null) : React.createElement(ChevronLeft, null), translate('ra.navigation.prev')), renderPageNums(), page !== nbPages - 1 && React.createElement(Button, {\n    color: color,\n    size: size,\n    key: \"next\",\n    onClick: nextPage,\n    className: \"next-page\"\n  }, translate('ra.navigation.next'), theme.direction === 'rtl' ? React.createElement(ChevronLeft, null) : React.createElement(ChevronRight, null)));\n}\n/**\n * PaginationActions propTypes are copied over from material-uiâ€™s\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\n\n\nPaginationActions.propTypes = {\n  backIconButtonProps: PropTypes.object,\n  count: PropTypes.number.isRequired,\n  classes: PropTypes.object,\n  nextIconButtonProps: PropTypes.object,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n  color: PropTypes.oneOf(['primary', 'secondary']),\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  theme: PropTypes.object\n};\nPaginationActions.defaultProps = {\n  color: 'primary',\n  size: 'small'\n};\nexport default React.memo(PaginationActions);","map":null,"metadata":{},"sourceType":"module"}